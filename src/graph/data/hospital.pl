:- style_check(-discontiguous).
% Primo piano dell'ospedale (piano terra)

room(101).
name(101, 'Entry').
x(101, 13.11).
y(101, 17.50).
floor(101, 1).

room(102).
name(102, 'Reception Room New Patient').
x(102, 10.82).
y(102, 17.73).
floor(102, 1).

room(103).
name(103, 'Reception Room Hygiene Patient').
x(103, 12.45).
y(103, 14.62).
floor(103, 1).

room(104).
name(104, 'Business Office').
x(104, 10.25).
y(104, 15.19).
floor(104, 1).

room(105).
name(105, 'Consult').
x(105, 7.44).
y(105, 17.27).
floor(105, 1).

room(106).
name(106, 'Operatory 1').
x(106, 7.96).
y(106, 15.18).
floor(106, 1).

room(107).
name(107, 'Operatory 2').
x(107, 4.23).
y(107, 14.73).
floor(107, 1).

room(108).
name(108, 'Operatory 3').
x(108, 4.09).
y(108, 17.96).
floor(108, 1).

room(109).
name(109, 'Operatory 4').
x(109, 2.47).
y(109, 18.26).
floor(109, 1).

room(110).
name(110, 'Operatory 5').
x(110, 2.00).
y(110, 14.00).
floor(110, 1).

room(111).
name(111, 'Operatory 6').
x(111, 3.76).
y(111, 11.65).
floor(111, 1).

room(112).
name(112, 'Operatory 7').
x(112, 2.00).
y(112, 10.00).
floor(112, 1).

room(113).
name(113, 'Operatory 8').
x(113, 1.92).
y(113, 7.28).
floor(113, 1).

room(114).
name(114, 'Operatory 9').
x(114, 3.89).
y(114, 7.25).
floor(114, 1).

room(115).
name(115, 'Operatory 10').
x(115, 5.90).
y(115, 7.33).
floor(115, 1).

room(116).
name(116, 'Darkroom').
x(116, 8.07).
y(116, 7.40).
floor(116, 1).

room(117).
name(117, 'Lab').
x(117, 8.99).
y(117, 9.35).
floor(117, 1).

room(118).
name(118, 'X-ray').
x(118, 10.16).
y(118, 7.49).
floor(118, 1).

room(119).
name(119, 'Central Tray Prep').
x(119, 10.00).
y(119, 12.00).
floor(119, 1).

room(120).
name(120, 'Elev. Equip').
x(120, 12.00).
y(120, 12.00).
floor(120, 1).

room(121).
name(121, 'Storage').
x(121, 14.00).
y(121, 12.00).
floor(121, 1).

room(122).
name(122, 'Women\'s').
x(122, 15.88).
y(122, 5.46).
floor(122, 1).

room(123).
name(123, 'Men\'s').
x(123, 14.00).
y(123, 8.00).
floor(123, 1).

room(124).
name(124, 'Stairs').
x(124, 15.92).
y(124, 7.83).
floor(124, 1).

room(125).
name(125, 'Nit. 2').
x(125, 12.16).
y(125, 5.39).
floor(125, 1).

room(126).
name(126, 'Nit. 1').
x(126, 13.07).
y(126, 7.58).
floor(126, 1).

room(127).
name(127, 'Store 1').
x(127, 11.42).
y(127, 6.69).
floor(127, 1).

room(128).
name(128, 'Store 2').
x(128, 6.23).
y(128, 4.73).
floor(128, 1).

room(129).
name(129, 'Break Room').
x(129, 11.85).
y(129, 8.91).
floor(129, 1).

% Secondo piano dell'ospedale

room(201).
name(201, 'Entry').
x(201, 0.67).
y(201, 49.09).
floor(201, 2).

room(202).
name(202, 'Stairs').
x(202, 16.16).
y(202, 38.45).
floor(202, 2).

room(203).
name(203, 'Patient Room 1').
x(203, -4.83).
y(203, 46.08).
floor(203, 2).

room(204).
name(204, 'Patient Room 2').
x(204, -3.03).
y(204, 46.29).
floor(204, 2).

room(205).
name(205, 'Patient Room 3').
x(205, -0.57).
y(205, 46.60).
floor(205, 2).

room(206).
name(206, 'Patient Room 4').
x(206, 2.78).
y(206, 44.25).
floor(206, 2).

room(207).
name(207, 'Patient Room 5').
x(207, 3.98).
y(207, 48.96).
floor(207, 2).

room(208).
name(208, 'Patient Room 6').
x(208, 4.61).
y(208, 47.05).
floor(208, 2).

room(209).
name(209, 'Patient Room 7').
x(209, 5.79).
y(209, 49.00).
floor(209, 2).

room(210).
name(210, 'Patient Room 8').
x(210, 8.21).
y(210, 48.89).
floor(210, 2).

room(211).
name(211, 'Patient Room 9').
x(211, 5.92).
y(211, 46.12).
floor(211, 2).

room(212).
name(212, 'Patient Room 10').
x(212, 9.85).
y(212, 48.36).
floor(212, 2).

room(213).
name(213, 'Patient Room 11').
x(213, 8.71).
y(213, 46.10).
floor(213, 2).

room(214).
name(214, 'Patient Room 12').
x(214, 11.62).
y(214, 47.90).
floor(214, 2).

room(215).
name(215, 'Patient Room 13').
x(215, 11.47).
y(215, 45.97).
floor(215, 2).

room(216).
name(216, 'Patient Room 14').
x(216, 9.34).
y(216, 44.39).
floor(216, 2).

room(217).
name(217, 'Single Patient Room 1').
x(217, -4.68).
y(217, 43.94).
floor(217, 2).

room(218).
name(218, 'Single Patient Room 2').
x(218, -2.96).
y(218, 42.63).
floor(218, 2).

room(219).
name(219, 'Single Patient Room 3').
x(219, -0.71).
y(219, 44.63).
floor(219, 2).

room(220).
name(220, 'Toilet Room 1').
x(220, -0.70).
y(220, 41.75).
floor(220, 2).

room(221).
name(221, 'Toilet Room 2').
x(221, 2.59).
y(221, 42.58).
floor(221, 2).

room(222).
name(222, 'Toilet Room 3').
x(222, 5.12).
y(222, 42.56).
floor(222, 2).

room(223).
name(223, 'Shower Room 1').
x(223, -0.69).
y(223, 39.05).
floor(223, 2).

room(224).
name(224, 'Shower Room 2').
x(224, 2.50).
y(224, 39.23).
floor(224, 2).

room(225).
name(225, 'Guest Room').
x(225, 0.90).
y(225, 43.87).
floor(225, 2).

room(226).
name(226, 'Mech Room').
x(226, 5.17).
y(226, 39.32).
floor(226, 2).

room(227).
name(227, 'Office 1').
x(227, 7.57).
y(227, 40.87).
floor(227, 2).

room(228).
name(228, 'Office 2').
x(228, 9.67).
y(228, 40.82).
floor(228, 2).

room(229).
name(229, 'Counseling').
x(229, 11.67).
y(229, 40.70).
floor(229, 2).

room(230).
name(230, 'Intake').
x(230, 13.47).
y(230, 40.85).
floor(230, 2).

room(231).
name(231, 'Medical Storage').
x(231, 6.62).
y(231, 37.25).
floor(231, 2).

room(232).
name(232, 'Records').
x(232, 11.97).
y(232, 37.35).
floor(232, 2).

room(233).
name(233, 'Employee Room').
x(233, 9.08).
y(233, 38.45).
floor(233, 2).

room(234).
name(234, 'Study Library').
x(234, 8.92).
y(234, 42.87).
floor(234, 2).

room(235).
name(235, 'Group Patient Room').
x(235, 11.15).
y(235, 42.99).
floor(235, 2).

room(236).
name(236, 'Activity Room').
x(236, 13.02).
y(236, 44.96).
floor(236, 2).

room(237).
name(237, 'Storage Room').
x(237, 13.98).
y(237, 42.70).
floor(237, 2).

% Terzo piano dell'ospedale

room(301).
name(301, 'Entry').
x(301, -0.10).
y(301, 62.21).
floor(301, 3).

room(302).
name(302, 'Minor Procedures').
x(302, 10.72).
y(302, 60.01).
floor(302, 3).

room(303).
name(303, 'Exam 1').
x(303, 9.30).
y(303, 64.05).
floor(303, 3).

room(304).
name(304, 'Exam 2').
x(304, 11.55).
y(304, 66.13).
floor(304, 3).

room(305).
name(305, 'Exam 3').
x(305, 9.34).
y(305, 62.30).
floor(305, 3).

room(306).
name(306, 'Drug/Supply').
x(306, 8.41).
y(306, 58.96).
floor(306, 3).

room(307).
name(307, 'Doctor Office 1').
x(307, 5.84).
y(307, 58.64).
floor(307, 3).

room(308).
name(308, 'Waiting Area').
x(308, -0.16).
y(308, 58.75).
floor(308, 3).

room(309).
name(309, 'Business Office').
x(309, 3.22).
y(309, 58.65).
floor(309, 3).

room(310).
name(310, 'Lab 1').
x(310, 3.31).
y(310, 62.72).
floor(310, 3).

room(311).
name(311, 'Lab 2').
x(311, 4.89).
y(311, 66.76).
floor(311, 3).

room(312).
name(312, 'Nurses Station').
x(312, 6.99).
y(312, 64.98).
floor(312, 3).

room(313).
name(313, 'Break Room').
x(313, 8.95).
y(313, 56.34).
floor(313, 3).

room(314).
name(314, 'Staff Room').
x(314, 5.99).
y(314, 56.31).
floor(314, 3).

room(315).
name(315, 'Doctor Office 2').
x(315, 11.94).
y(315, 56.39).
floor(315, 3).

room(316).
name(316, 'Multi-Purpose').
x(316, 14.94).
y(316, 56.45).
floor(316, 3).

room(317).
name(317, 'X-ray Suite').
x(317, 17.20).
y(317, 57.36).
floor(317, 3).

room(318).
name(318, 'Control Area').
x(318, 17.08).
y(318, 59.65).
floor(318, 3).

room(319).
name(319, 'Supply Closet').
x(319, 7.59).
y(319, 68.66).
floor(319, 3).

room(320).
name(320, 'Stairs').
x(320, 13.96).
y(320, 62.29).
floor(320, 3).

% Calcolo la distanza euclidea tra due stanze
euclidean_distance(Room1, Room2, Distance) :-
    room(Room1),
    room(Room2),
    x(Room1, X1),
    y(Room1, Y1),
    x(Room2, X2),
    y(Room2, Y2),
    DiffX is X2 - X1,
    DiffY is Y2 - Y1,
    Distance is sqrt(DiffX*DiffX + DiffY*DiffY).

% Definisco la connessione con peso basato sulla distanza euclidea
connection_with_weight(Room1, Room2, Weight) :-
    euclidean_distance(Room1, Room2, Weight).

% Definisco la connessione in maniera unidirezionale
connection(Room1, Room2, Weight) :-
    connection_with_weight(Room1, Room2, Weight),
    defined_connection(Room1, Room2).

% Definisco esplicitamente le connessioni che voglio
:- dynamic defined_connection/2.
:- assertz(defined_connection(101, 102)).
:- assertz(defined_connection(101, 103)).
:- assertz(defined_connection(102, 104)).
:- assertz(defined_connection(103, 104)).
:- assertz(defined_connection(104, 105)).
:- assertz(defined_connection(105, 106)).
:- assertz(defined_connection(105, 107)).
:- assertz(defined_connection(105, 108)).
:- assertz(defined_connection(106, 107)).
:- assertz(defined_connection(107, 108)).
:- assertz(defined_connection(108, 109)).
:- assertz(defined_connection(109, 110)).
:- assertz(defined_connection(110, 111)).
:- assertz(defined_connection(111, 112)).
:- assertz(defined_connection(112, 113)).
:- assertz(defined_connection(113, 114)).
:- assertz(defined_connection(114, 115)).
:- assertz(defined_connection(115, 119)).
:- assertz(defined_connection(116, 117)).
:- assertz(defined_connection(117, 118)).
:- assertz(defined_connection(118, 119)).
:- assertz(defined_connection(119, 120)).
:- assertz(defined_connection(120, 121)).
:- assertz(defined_connection(121, 124)).
:- assertz(defined_connection(124, 122)).
:- assertz(defined_connection(124, 123)).
:- assertz(defined_connection(121, 129)).
:- assertz(defined_connection(129, 126)).
:- assertz(defined_connection(126, 125)).
:- assertz(defined_connection(126, 127)).
:- assertz(defined_connection(125, 128)).
:- assertz(defined_connection(116, 118)).
:- assertz(defined_connection(115, 116)).
:- assertz(defined_connection(203, 204)).
:- assertz(defined_connection(204, 205)).
:- assertz(defined_connection(205, 206)).
:- assertz(defined_connection(206, 207)).
:- assertz(defined_connection(207, 208)).
:- assertz(defined_connection(208, 209)).
:- assertz(defined_connection(209, 210)).
:- assertz(defined_connection(210, 211)).
:- assertz(defined_connection(211, 212)).
:- assertz(defined_connection(212, 213)).
:- assertz(defined_connection(213, 214)).
:- assertz(defined_connection(214, 215)).
:- assertz(defined_connection(215, 216)).
:- assertz(defined_connection(217, 218)).
:- assertz(defined_connection(218, 219)).
:- assertz(defined_connection(220, 221)).
:- assertz(defined_connection(221, 222)).
:- assertz(defined_connection(223, 224)).
:- assertz(defined_connection(225, 220)).
:- assertz(defined_connection(226, 224)).
:- assertz(defined_connection(227, 228)).
:- assertz(defined_connection(228, 233)).
:- assertz(defined_connection(229, 230)).
:- assertz(defined_connection(231, 232)).
:- assertz(defined_connection(234, 235)).
:- assertz(defined_connection(235, 236)).
:- assertz(defined_connection(236, 237)).
:- assertz(defined_connection(201, 203)).
:- assertz(defined_connection(201, 207)).
:- assertz(defined_connection(201, 225)).
:- assertz(defined_connection(201, 227)).
:- assertz(defined_connection(201, 234)).
:- assertz(defined_connection(237, 202)).
:- assertz(defined_connection(203, 217)).
:- assertz(defined_connection(204, 218)).
:- assertz(defined_connection(205, 219)).
:- assertz(defined_connection(219, 225)).
:- assertz(defined_connection(220, 223)).
:- assertz(defined_connection(221, 224)).
:- assertz(defined_connection(222, 226)).
:- assertz(defined_connection(228, 229)).
:- assertz(defined_connection(230, 232)).
:- assertz(defined_connection(227, 231)).
:- assertz(defined_connection(124, 201)).
:- assertz(defined_connection(301, 308)).
:- assertz(defined_connection(308, 309)).
:- assertz(defined_connection(309, 310)).
:- assertz(defined_connection(310, 311)).
:- assertz(defined_connection(311, 312)).
:- assertz(defined_connection(312, 303)).
:- assertz(defined_connection(303, 304)).
:- assertz(defined_connection(304, 305)).
:- assertz(defined_connection(305, 302)).
:- assertz(defined_connection(302, 306)).
:- assertz(defined_connection(306, 307)).
:- assertz(defined_connection(307, 314)).
:- assertz(defined_connection(314, 313)).
:- assertz(defined_connection(313, 315)).
:- assertz(defined_connection(315, 316)).
:- assertz(defined_connection(316, 317)).
:- assertz(defined_connection(317, 318)).
:- assertz(defined_connection(318, 320)).
:- assertz(defined_connection(319, 303)).
:- assertz(defined_connection(311, 319)).
:- assertz(defined_connection(302, 316)).
:- assertz(defined_connection(309, 307)).
:- assertz(defined_connection(318, 302)).
:- assertz(defined_connection(304, 319)).
:- assertz(defined_connection(312, 319)).
:- assertz(defined_connection(313, 306)).
:- assertz(defined_connection(305, 312)).
:- assertz(defined_connection(202, 301)).

% Ulteriori connessioni aggiuntive
% Piano 1
:- assertz(defined_connection(106, 104)).
:- assertz(defined_connection(105, 102)).
:- assertz(defined_connection(108, 106)).
:- assertz(defined_connection(110, 107)).
:- assertz(defined_connection(111, 107)).
:- assertz(defined_connection(112, 110)).
:- assertz(defined_connection(114, 112)).
:- assertz(defined_connection(128, 115)).
:- assertz(defined_connection(119, 106)).
:- assertz(defined_connection(127, 118)).
:- assertz(defined_connection(116, 128)).
:- assertz(defined_connection(129, 120)).
:- assertz(defined_connection(122, 123)).
:- assertz(defined_connection(126, 123)).
:- assertz(defined_connection(123, 129)).
:- assertz(defined_connection(123, 121)).
:- assertz(defined_connection(119, 104)).
:- assertz(defined_connection(120, 103)).
:- assertz(defined_connection(121, 103)).
:- assertz(defined_connection(111, 106)).
:- assertz(defined_connection(115, 111)).
:- assertz(defined_connection(111, 119)).
:- assertz(defined_connection(120, 104)).
:- assertz(defined_connection(127, 129)).
:- assertz(defined_connection(129, 119)).
:- assertz(defined_connection(128, 127)).

% Piano 2
:- assertz(defined_connection(207, 209)).
:- assertz(defined_connection(208, 211)).
:- assertz(defined_connection(211, 209)).
:- assertz(defined_connection(211, 213)).
:- assertz(defined_connection(213, 210)).
:- assertz(defined_connection(212, 210)).
:- assertz(defined_connection(214, 212)).
:- assertz(defined_connection(215, 213)).
:- assertz(defined_connection(216, 213)).
:- assertz(defined_connection(216, 206)).
:- assertz(defined_connection(234, 216)).
:- assertz(defined_connection(235, 216)).
:- assertz(defined_connection(236, 215)).
:- assertz(defined_connection(234, 227)).
:- assertz(defined_connection(235, 228)).
:- assertz(defined_connection(229, 235)).
:- assertz(defined_connection(230, 237)).
:- assertz(defined_connection(227, 233)).
:- assertz(defined_connection(233, 229)).
:- assertz(defined_connection(230, 233)).
:- assertz(defined_connection(231, 233)).
:- assertz(defined_connection(232, 233)).
:- assertz(defined_connection(227, 222)).
:- assertz(defined_connection(231, 226)).
:- assertz(defined_connection(226, 221)).
:- assertz(defined_connection(224, 220)).
:- assertz(defined_connection(218, 220)).
:- assertz(defined_connection(220, 219)).
:- assertz(defined_connection(223, 218)).
:- assertz(defined_connection(217, 204)).
:- assertz(defined_connection(219, 204)).
:- assertz(defined_connection(225, 221)).
:- assertz(defined_connection(221, 206)).
:- assertz(defined_connection(205, 201)).
:- assertz(defined_connection(229, 237)).
:- assertz(defined_connection(237, 235)).
:- assertz(defined_connection(235, 215)).
:- assertz(defined_connection(216, 211)).
:- assertz(defined_connection(226, 227)).
:- assertz(defined_connection(222, 234)).
:- assertz(defined_connection(228, 234)).


% Piano 3
:- assertz(defined_connection(310, 308)).
:- assertz(defined_connection(312, 310)).
:- assertz(defined_connection(305, 303)).
:- assertz(defined_connection(305, 310)).
:- assertz(defined_connection(307, 310)).
:- assertz(defined_connection(314, 306)).
:- assertz(defined_connection(320, 302)).
:- assertz(defined_connection(320, 304)).
:- assertz(defined_connection(320, 305)).
:- assertz(defined_connection(306, 305)).
:- assertz(defined_connection(314, 309)).
:- assertz(defined_connection(312, 304)).
:- assertz(defined_connection(307, 312)).
:- assertz(defined_connection(305, 307)).
:- assertz(defined_connection(313, 302)).
:- assertz(defined_connection(302, 304)).