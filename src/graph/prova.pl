:- style_check(-discontiguous).
% Primo piano dell'ospedale (piano terra)

stanza(101).
tipo(101, 'Entry').
x(101, 12.31).
y(101, 18.20).
piano(101, 1).

stanza(102).
tipo(102, 'Reception Room New Patient').
x(102, 8.54).
y(102, 18.27).
piano(102, 1).

stanza(103).
tipo(103, 'Reception Room Hygiene Patient').
x(103, 12.45).
y(103, 14.62).
piano(103, 1).

stanza(104).
tipo(104, 'Business Office').
x(104, 10.25).
y(104, 15.19).
piano(104, 1).

stanza(105).
tipo(105, 'Consult').
x(105, 7.44).
y(105, 17.27).
piano(105, 1).

stanza(106).
tipo(106, 'Operatory 1').
x(106, 8.05).
y(106, 13.79).
piano(106, 1).

stanza(107).
tipo(107, 'Operatory 2').
x(107, 4.23).
y(107, 14.73).
piano(107, 1).

stanza(108).
tipo(108, 'Operatory 3').
x(108, 4.09).
y(108, 17.96).
piano(108, 1).

stanza(109).
tipo(109, 'Operatory 4').
x(109, 2.47).
y(109, 18.26).
piano(109, 1).

stanza(110).
tipo(110, 'Operatory 5').
x(110, 2.00).
y(110, 14.00).
piano(110, 1).

stanza(111).
tipo(111, 'Operatory 6').
x(111, 3.76).
y(111, 11.65).
piano(111, 1).

stanza(112).
tipo(112, 'Operatory 7').
x(112, 2.00).
y(112, 10.00).
piano(112, 1).

stanza(113).
tipo(113, 'Operatory 8').
x(113, 2.00).
y(113, 8.00).
piano(113, 1).

stanza(114).
tipo(114, 'Operatory 9').
x(114, 4.00).
y(114, 8.00).
piano(114, 1).

stanza(115).
tipo(115, 'Operatory 10').
x(115, 6.00).
y(115, 8.00).
piano(115, 1).

stanza(116).
tipo(116, 'Darkroom').
x(116, 8.02).
y(116, 7.12).
piano(116, 1).

stanza(117).
tipo(117, 'Lab').
x(117, 9.50).
y(117, 8.45).
piano(117, 1).

stanza(118).
tipo(118, 'X-ray').
x(118, 6.13).
y(118, 11.62).
piano(118, 1).

stanza(119).
tipo(119, 'Central Tray Prep').
x(119, 10.00).
y(119, 12.00).
piano(119, 1).

stanza(120).
tipo(120, 'Elev. Equip').
x(120, 12.00).
y(120, 12.00).
piano(120, 1).

stanza(121).
tipo(121, 'Storage').
x(121, 14.00).
y(121, 12.00).
piano(121, 1).

stanza(122).
tipo(122, 'Women\'s').
x(122, 14.00).
y(122, 10.00).
piano(122, 1).

stanza(123).
tipo(123, 'Men\'s').
x(123, 14.00).
y(123, 8.00).
piano(123, 1).

stanza(124).
tipo(124, 'Stairs').
x(124, 14.00).
y(124, 6.00).
piano(124, 1).

stanza(125).
tipo(125, 'Nit. 2').
x(125, 12.16).
y(125, 5.39).
piano(125, 1).

stanza(126).
tipo(126, 'Nit. 1').
x(126, 13.07).
y(126, 7.58).
piano(126, 1).

stanza(127).
tipo(127, 'Store 1').
x(127, 10.53).
y(127, 7.15).
piano(127, 1).

stanza(128).
tipo(128, 'Store 2').
x(128, 6.20).
y(128, 6.39).
piano(128, 1).

stanza(129).
tipo(129, 'Break Room').
x(129, 11.85).
y(129, 8.91).
piano(129, 1).

% Secondo piano dell'ospedale

stanza(201).
tipo(201, 'Entry').
x(201, -5.36).
y(201, 33.21).
piano(201, 2).

stanza(202).
tipo(202, 'Stairs').
x(202, -3.34).
y(202, 26.95).
piano(202, 2).

stanza(203).
tipo(203, 'Patient Room 1').
x(203, -5.05).
y(203, 46.57).
piano(203, 2).

stanza(204).
tipo(204, 'Patient Room 2').
x(204, 6.00).
y(204, 40.00).
piano(204, 2).

stanza(205).
tipo(205, 'Patient Room 3').
x(205, 5.24).
y(205, 48.74).
piano(205, 2).

stanza(206).
tipo(206, 'Patient Room 4').
x(206, 1.89).
y(206, 43.67).
piano(206, 2).

stanza(207).
tipo(207, 'Patient Room 5').
x(207, -2.05).
y(207, 39.95).
piano(207, 2).

stanza(208).
tipo(208, 'Patient Room 6').
x(208, 5.82).
y(208, 44.18).
piano(208, 2).

stanza(209).
tipo(209, 'Patient Room 7').
x(209, 6.00).
y(209, 38.00).
piano(209, 2).

stanza(210).
tipo(210, 'Patient Room 8').
x(210, 4.00).
y(210, 38.00).
piano(210, 2).

stanza(211).
tipo(211, 'Patient Room 9').
x(211, 2.00).
y(211, 38.00).
piano(211, 2).

stanza(212).
tipo(212, 'Patient Room 10').
x(212, 0.00).
y(212, 38.00).
piano(212, 2).

stanza(213).
tipo(213, 'Patient Room 11').
x(213, -1.18).
y(213, 25.53).
piano(213, 2).

stanza(214).
tipo(214, 'Patient Room 12').
x(214, 6.00).
y(214, 36.00).
piano(214, 2).

stanza(215).
tipo(215, 'Patient Room 13').
x(215, 4.00).
y(215, 36.00).
piano(215, 2).

stanza(216).
tipo(216, 'Patient Room 14').
x(216, 2.00).
y(216, 36.00).
piano(216, 2).

stanza(217).
tipo(217, 'Single Patient Room 1').
x(217, -3.46).
y(217, 42.35).
piano(217, 2).

stanza(218).
tipo(218, 'Single Patient Room 2').
x(218, 1.95).
y(218, 47.42).
piano(218, 2).

stanza(219).
tipo(219, 'Single Patient Room 3').
x(219, 6.00).
y(219, 34.00).
piano(219, 2).

stanza(220).
tipo(220, 'Toilet Room 1').
x(220, 4.00).
y(220, 34.00).
piano(220, 2).

stanza(221).
tipo(221, 'Toilet Room 2').
x(221, 2.00).
y(221, 34.00).
piano(221, 2).

stanza(222).
tipo(222, 'Toilet Room 3').
x(222, 0.00).
y(222, 34.00).
piano(222, 2).

stanza(223).
tipo(223, 'Shower Room 1').
x(223, 8.19).
y(223, 48.22).
piano(223, 2).

stanza(224).
tipo(224, 'Shower Room 2').
x(224, 6.00).
y(224, 32.00).
piano(224, 2).

stanza(225).
tipo(225, 'Guest Room').
x(225, 4.00).
y(225, 32.00).
piano(225, 2).

stanza(226).
tipo(226, 'Mech Room').
x(226, 2.00).
y(226, 32.00).
piano(226, 2).

stanza(227).
tipo(227, 'Office 1').
x(227, -1.34).
y(227, 37.47).
piano(227, 2).

stanza(228).
tipo(228, 'Office 2').
x(228, 9.79).
y(228, 33.51).
piano(228, 2).

stanza(229).
tipo(229, 'Counseling').
x(229, 6.00).
y(229, 30.00).
piano(229, 2).

stanza(230).
tipo(230, 'Intake').
x(230, 4.00).
y(230, 30.00).
piano(230, 2).

stanza(231).
tipo(231, 'Medical Storage').
x(231, -2.49).
y(231, 37.93).
piano(231, 2).

stanza(232).
tipo(232, 'Records').
x(232, -1.86).
y(232, 30.13).
piano(232, 2).

stanza(233).
tipo(233, 'Employee Room').
x(233, 9.25).
y(233, 27.54).
piano(233, 2).

stanza(234).
tipo(234, 'Study Library').
x(234, 4.94).
y(234, 24.05).
piano(234, 2).

stanza(235).
tipo(235, 'Group Patient Room').
x(235, -1.17).
y(235, 45.39).
piano(235, 2).

stanza(236).
tipo(236, 'Activity Room').
x(236, 2.05).
y(236, 23.70).
piano(236, 2).

stanza(237).
tipo(237, 'Storage Room').
x(237, -2.98).
y(237, 21.77).
piano(237, 2).

% Terzo piano dell'ospedale

stanza(301).
tipo(301, 'Entry').
x(301, 8.50).
y(301, 57.95).
piano(301, 3).

stanza(302).
tipo(302, 'Minor Procedures').
x(302, 10.89).
y(302, 61.16).
piano(302, 3).

stanza(303).
tipo(303, 'Exam 1').
x(303, 14.00).
y(303, 58.00).
piano(303, 3).

stanza(304).
tipo(304, 'Exam 2').
x(304, 15.77).
y(304, 53.07).
piano(304, 3).

stanza(305).
tipo(305, 'Exam 3').
x(305, 18.00).
y(305, 58.00).
piano(305, 3).

stanza(306).
tipo(306, 'Drug/Supply').
x(306, 15.70).
y(306, 63.23).
piano(306, 3).

stanza(307).
tipo(307, 'Doctor Office 1').
x(307, 10.00).
y(307, 56.00).
piano(307, 3).

stanza(308).
tipo(308, 'Waiting Area').
x(308, 5.09).
y(308, 58.31).
piano(308, 3).

stanza(309).
tipo(309, 'Business Office').
x(309, 3.12).
y(309, 54.03).
piano(309, 3).

stanza(310).
tipo(310, 'Lab 1').
x(310, 3.31).
y(310, 62.72).
piano(310, 3).

stanza(311).
tipo(311, 'Lab 2').
x(311, 4.89).
y(311, 66.76).
piano(311, 3).

stanza(312).
tipo(312, 'Nurses Station').
x(312, 13.40).
y(312, 54.11).
piano(312, 3).

stanza(313).
tipo(313, 'Break Room').
x(313, 8.48).
y(313, 53.52).
piano(313, 3).

stanza(314).
tipo(314, 'Staff Room').
x(314, 7.52).
y(314, 57.01).
piano(314, 3).

stanza(315).
tipo(315, 'Doctor Office 2').
x(315, 18.44).
y(315, 64.12).
piano(315, 3).

stanza(316).
tipo(316, 'Multi-Purpose').
x(316, 15.58).
y(316, 67.90).
piano(316, 3).

stanza(317).
tipo(317, 'X-ray Suite').
x(317, 7.24).
y(317, 66.44).
piano(317, 3).

stanza(318).
tipo(318, 'Control Area').
x(318, 10.76).
y(318, 63.58).
piano(318, 3).

stanza(319).
tipo(319, 'Supply Closet').
x(319, 8.00).
y(319, 52.00).
piano(319, 3).

stanza(320).
tipo(320, 'Stairs').
x(320, 13.16).
y(320, 65.84).
piano(320, 3).

% Calcolo la distanza euclidea tra due stanze
distanza_euclidea(Stanza1, Stanza2, Distanza) :-
    stanza(Stanza1),
    stanza(Stanza2),
    x(Stanza1, X1),
    y(Stanza1, Y1),
    x(Stanza2, X2),
    y(Stanza2, Y2),
    DiffX is X2 - X1,
    DiffY is Y2 - Y1,
    Distanza is sqrt(DiffX*DiffX + DiffY*DiffY).

% Definisco la connessione con peso basato sulla distanza euclidea
connessione_con_peso(Stanza1, Stanza2, Peso) :-
    distanza_euclidea(Stanza1, Stanza2, Peso).

% Definisco le connessioni unidirezionali
connessione(Stanza1, Stanza2, Peso) :-
    connessione_con_peso(Stanza1, Stanza2, Peso),
    connessione_definita(Stanza1, Stanza2).

% Definisco esplicitamente le connessioni che voglio
:- dynamic connessione_definita/2.
:- assertz(connessione_definita(101, 102)).
:- assertz(connessione_definita(101, 103)).
:- assertz(connessione_definita(102, 104)).
:- assertz(connessione_definita(103, 104)).
:- assertz(connessione_definita(104, 105)).
:- assertz(connessione_definita(105, 106)).
:- assertz(connessione_definita(105, 107)).
:- assertz(connessione_definita(105, 108)).
:- assertz(connessione_definita(106, 107)).
:- assertz(connessione_definita(107, 108)).
:- assertz(connessione_definita(108, 109)).
:- assertz(connessione_definita(109, 110)).
:- assertz(connessione_definita(110, 111)).
:- assertz(connessione_definita(111, 112)).
:- assertz(connessione_definita(112, 113)).
:- assertz(connessione_definita(113, 114)).
:- assertz(connessione_definita(114, 115)).
:- assertz(connessione_definita(115, 119)).
:- assertz(connessione_definita(116, 117)).
:- assertz(connessione_definita(117, 118)).
:- assertz(connessione_definita(118, 119)).
:- assertz(connessione_definita(119, 120)).
:- assertz(connessione_definita(120, 121)).
:- assertz(connessione_definita(121, 124)).
:- assertz(connessione_definita(124, 122)).
:- assertz(connessione_definita(124, 123)).
:- assertz(connessione_definita(121, 129)).
:- assertz(connessione_definita(129, 126)).
:- assertz(connessione_definita(126, 125)).
:- assertz(connessione_definita(126, 127)).
:- assertz(connessione_definita(125, 128)).
:- assertz(connessione_definita(116, 118)).
:- assertz(connessione_definita(115, 116)).
:- assertz(connessione_definita(203, 204)).
:- assertz(connessione_definita(204, 205)).
:- assertz(connessione_definita(205, 206)).
:- assertz(connessione_definita(206, 207)).
:- assertz(connessione_definita(207, 208)).
:- assertz(connessione_definita(208, 209)).
:- assertz(connessione_definita(209, 210)).
:- assertz(connessione_definita(210, 211)).
:- assertz(connessione_definita(211, 212)).
:- assertz(connessione_definita(212, 213)).
:- assertz(connessione_definita(213, 214)).
:- assertz(connessione_definita(214, 215)).
:- assertz(connessione_definita(215, 216)).
:- assertz(connessione_definita(217, 218)).
:- assertz(connessione_definita(218, 219)).
:- assertz(connessione_definita(220, 221)).
:- assertz(connessione_definita(221, 222)).
:- assertz(connessione_definita(223, 224)).
:- assertz(connessione_definita(225, 220)).
:- assertz(connessione_definita(226, 224)).
:- assertz(connessione_definita(227, 228)).
:- assertz(connessione_definita(228, 233)).
:- assertz(connessione_definita(229, 230)).
:- assertz(connessione_definita(231, 232)).
:- assertz(connessione_definita(234, 235)).
:- assertz(connessione_definita(235, 236)).
:- assertz(connessione_definita(236, 237)).
:- assertz(connessione_definita(201, 203)).
:- assertz(connessione_definita(201, 207)).
:- assertz(connessione_definita(201, 225)).
:- assertz(connessione_definita(201, 227)).
:- assertz(connessione_definita(201, 234)).
:- assertz(connessione_definita(237, 202)).
:- assertz(connessione_definita(203, 217)).
:- assertz(connessione_definita(204, 218)).
:- assertz(connessione_definita(205, 219)).
:- assertz(connessione_definita(219, 225)).
:- assertz(connessione_definita(220, 223)).
:- assertz(connessione_definita(221, 224)).
:- assertz(connessione_definita(222, 226)).
:- assertz(connessione_definita(228, 229)).
:- assertz(connessione_definita(230, 232)).
:- assertz(connessione_definita(227, 231)).
:- assertz(connessione_definita(124, 201)).
:- assertz(connessione_definita(301, 308)).
:- assertz(connessione_definita(308, 309)).
:- assertz(connessione_definita(309, 310)).
:- assertz(connessione_definita(310, 311)).
:- assertz(connessione_definita(311, 312)).
:- assertz(connessione_definita(312, 303)).
:- assertz(connessione_definita(303, 304)).
:- assertz(connessione_definita(304, 305)).
:- assertz(connessione_definita(305, 302)).
:- assertz(connessione_definita(302, 306)).
:- assertz(connessione_definita(306, 307)).
:- assertz(connessione_definita(307, 314)).
:- assertz(connessione_definita(314, 313)).
:- assertz(connessione_definita(313, 315)).
:- assertz(connessione_definita(315, 316)).
:- assertz(connessione_definita(316, 317)).
:- assertz(connessione_definita(317, 318)).
:- assertz(connessione_definita(318, 320)).
:- assertz(connessione_definita(319, 303)).
:- assertz(connessione_definita(311, 319)).
:- assertz(connessione_definita(302, 316)).
:- assertz(connessione_definita(309, 307)).
:- assertz(connessione_definita(318, 302)).
:- assertz(connessione_definita(304, 319)).
:- assertz(connessione_definita(312, 319)).
:- assertz(connessione_definita(313, 306)).
:- assertz(connessione_definita(305, 312)).
:- assertz(connessione_definita(202, 301)).
